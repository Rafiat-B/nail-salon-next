(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=n(260),r=n(8203),a=n(5155),o=n.n(a),i=n(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,7949)),"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,6038)),"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,2290)),"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\admin\\page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9198:(e,t,n)=>{Promise.resolve().then(n.bind(n,3839))},1894:(e,t,n)=>{Promise.resolve().then(n.bind(n,1903))},3322:(e,t,n)=>{Promise.resolve().then(n.bind(n,7169))},3074:(e,t,n)=>{Promise.resolve().then(n.bind(n,6781))},5442:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,3219,23)),Promise.resolve().then(n.t.bind(n,4863,23)),Promise.resolve().then(n.t.bind(n,5155,23)),Promise.resolve().then(n.t.bind(n,802,23)),Promise.resolve().then(n.t.bind(n,9350,23)),Promise.resolve().then(n.t.bind(n,8530,23)),Promise.resolve().then(n.t.bind(n,8921,23))},4826:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6959,23)),Promise.resolve().then(n.t.bind(n,3875,23)),Promise.resolve().then(n.t.bind(n,1284,23)),Promise.resolve().then(n.t.bind(n,7174,23)),Promise.resolve().then(n.t.bind(n,4178,23)),Promise.resolve().then(n.t.bind(n,7190,23)),Promise.resolve().then(n.t.bind(n,1365,23))},6e3:(e,t,n)=>{Promise.resolve().then(n.bind(n,7949))},5376:(e,t,n)=>{Promise.resolve().then(n.bind(n,6227))},1903:(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var s=n(5512),r=n(8009),a=n(8531),o=n.n(a),i=n(9334);function l(){let[e,t]=(0,r.useState)(null);return(0,i.usePathname)(),(0,s.jsxs)("nav",{className:"bg-white shadow-md p-4 flex justify-between items-center z-50 relative",children:[(0,s.jsx)("div",{className:"text-xl font-bold text-pink-700",children:(0,s.jsx)(o(),{href:"/",children:"Nail Salon Booking"})}),(0,s.jsx)("div",{className:"space-x-4",children:e?(0,s.jsxs)(s.Fragment,{children:["customer"===e.role&&(0,s.jsx)(o(),{href:"/book-appointment",className:"text-pink-600 hover:text-pink-800",children:"Book Appointment"}),(0,s.jsx)(o(),{href:"/dashboard",className:"text-pink-600 hover:text-pink-800",children:"Dashboard"}),(0,s.jsx)(o(),{href:"/logout",className:"text-pink-600 hover:text-pink-800",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{href:"/services",className:"text-pink-600 hover:text-pink-800",children:"Services"}),(0,s.jsx)(o(),{href:"/book-appointment",className:"text-pink-600 hover:text-pink-800",children:"Book"}),(0,s.jsx)(o(),{href:"/login",className:"text-pink-600 hover:text-pink-800",children:"Login"}),(0,s.jsx)(o(),{href:"/registration",className:"text-pink-600 hover:text-pink-800",children:"Register"})]})})]})}function d(){return(0,s.jsx)(l,{})}},6781:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var s=n(5512),r=n(8531),a=n.n(r),o=n(9334);function i(){let e=(0,o.useRouter)();return(0,s.jsxs)("aside",{className:"w-1/4 bg-gray-100 p-6 h-screen shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-pink-700 mb-6",children:"Admin Panel"}),(0,s.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,s.jsx)(a(),{href:"/admin",className:"text-pink-600 hover:underline",children:"Dashboard"}),(0,s.jsx)(a(),{href:"/admin/manage-services",className:"text-pink-600 hover:underline",children:"Manage Services"}),(0,s.jsx)(a(),{href:"/admin/manage-bookings",className:"text-pink-600 hover:underline",children:"Manage Bookings"})]}),(0,s.jsx)("button",{className:"mt-8 bg-pink-700 text-white px-4 py-2 rounded w-full",onClick:()=>{localStorage.removeItem("user"),e.push("/login")},children:"Logout"})]})}},5670:(e,t,n)=>{"use strict";n.d(t,{default:()=>r.a});var s=n(6256),r=n.n(s)},6256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let s=n(5488)._(n(568));function r(e,t){var n;let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,s.default)({...a,modules:null==(n=a.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3400:(e,t)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return n}})},5771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=n(4639);function r(e){let{reason:t,children:n}=e;throw new s.BailoutToCSRError(t)}},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=n(5512),r=n(8009),a=n(5771),o=n(6054);function i(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,c=l?r.Suspense:r.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.PreloadChunks,{moduleIds:t.modules}),(0,s.jsx)(n,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(n,{...e})});return(0,s.jsx)(c,{...l?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},6054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let s=n(5512),r=n(5740),a=n(9294),o=n(3400);function i(e){let{moduleIds:t}=e,n=a.workAsyncStorage.getStore();if(void 0===n)return null;let i=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files;i.push(...t)}}return 0===i.length?null:(0,s.jsx)(s.Fragment,{children:i.map(e=>{let t=n.assetPrefix+"/_next/"+(0,o.encodeURIPath)(e);return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,r.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},6227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var s=n(5512),r=n(9334),a=n(8009),o=n(5670);n(9863),function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}();let i=(0,o.default)(async()=>{},{loadableGenerated:{modules:["..\\components\\admin\\AppointmentForm.tsx -> ../../components/shared/DatePicker"]},ssr:!1});function l({onSuccess:e}){let[t,n]=(0,a.useState)([]),[r,o]=(0,a.useState)([]),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)("pending"),[h,x]=(0,a.useState)(""),[f,b]=(0,a.useState)(null),[v,j]=(0,a.useState)(""),g=async t=>{if(t.preventDefault(),!f||!v){x("Please select both a date and time.");return}let[n,s]=v.split(":").map(Number),r=new Date(f);r.setHours(n,s,0,0);try{await Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())("/api/appointments",{user_id:l,service_id:c,appointment_date:r.toISOString(),status:m}),x("Booking Created!"),d(""),u(""),p("pending"),b(null),j(""),e&&e()}catch(e){console.error(e),x("Booking Failed!")}};return(0,s.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-700",children:"Select User:"}),(0,s.jsxs)("select",{value:l,onChange:e=>d(e.target.value),required:!0,className:"border p-2 rounded w-full",children:[(0,s.jsx)("option",{value:"",children:"-- Select User --"}),t.map(e=>(0,s.jsx)("option",{value:e._id,children:e.email},e._id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-700",children:"Select Service:"}),(0,s.jsxs)("select",{value:c,onChange:e=>u(e.target.value),required:!0,className:"border p-2 rounded w-full",children:[(0,s.jsx)("option",{value:"",children:"-- Select Service --"}),r.map(e=>(0,s.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-700",children:"Select Date & Time:"}),(0,s.jsx)(i,{selectedDay:f,setSelectedDay:b,selectedTime:v,setSelectedTime:j})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-700",children:"Status:"}),(0,s.jsxs)("select",{value:m,onChange:e=>p(e.target.value),required:!0,className:"border p-2 rounded w-full",children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,s.jsx)("button",{type:"submit",className:"bg-pink-600 text-white px-4 py-2 rounded",children:"Create Booking"}),h&&(0,s.jsx)("p",{className:"mt-4 text-green-600",children:h})]})}function d({refreshTrigger:e}){let[t,n]=(0,a.useState)([]),[r,o]=(0,a.useState)(null),i=async e=>{try{return(await Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())(`/api/users/${e}`)).data}catch(e){return console.error("Failed to fetch user info:",e),{name:"Unknown",email:"N/A"}}};return(0,a.useCallback)(async()=>{try{let[e,t]=await Promise.all([Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())("/api/appointments"),Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())("/api/services")]),s=new Map(t.data.map(e=>[e._id,e.name])),r=await Promise.all(e.data.map(async e=>{let t=await i(e.user_id);return{...e,userName:t.name,userEmail:t.email,serviceName:s.get(e.service_id)||"Unknown Service"}}));n(r)}catch(e){console.error("Error loading appointments",e),o("Failed to load appointment list.")}},[i]),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl text-black",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Booking List"}),r&&(0,s.jsx)("p",{className:"text-red-500",children:r}),(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,s.jsx)("th",{className:"p-2",children:"User Name"}),(0,s.jsx)("th",{className:"p-2",children:"Email"}),(0,s.jsx)("th",{className:"p-2",children:"Service"}),(0,s.jsx)("th",{className:"p-2",children:"Date & Time"}),(0,s.jsx)("th",{className:"p-2",children:"Status"})]})}),(0,s.jsx)("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"p-2",children:e.userName}),(0,s.jsx)("td",{className:"p-2",children:e.userEmail}),(0,s.jsx)("td",{className:"p-2",children:e.serviceName}),(0,s.jsx)("td",{className:"p-2",children:new Date(e.appointment_date).toLocaleString()}),(0,s.jsx)("td",{className:"p-2",children:e.status})]},e._id))})]})]})}function c(){(0,r.useRouter)();let[e,t]=(0,a.useState)(!1),[n,o]=(0,a.useState)(0);return e?(0,s.jsxs)("div",{className:"w-full bg-gradient-to-r from-pink-300 via-pink-400 to-pink-500 p-10 min-h-screen text-white",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Nail Store Admin Dashboard"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl text-black",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Add Booking"}),(0,s.jsx)(l,{onSuccess:()=>{o(e=>e+1)}})," "]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)(d,{refreshTrigger:n})," "]})]}):(0,s.jsx)("div",{children:"Loading..."})}!function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}()},3839:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\JUZT-OYIN\\\\nail-salon-next\\\\nail-salon-booking-system\\\\components\\\\NavbarWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\components\\NavbarWrapper.tsx","default")},7169:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\JUZT-OYIN\\\\nail-salon-next\\\\nail-salon-booking-system\\\\components\\\\admin\\\\AdminSidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\components\\admin\\AdminSidebar.tsx","default")},6038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(2740),r=n(7169);function a({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen flex",children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("div",{className:"flex-1",children:e})]})}},7949:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\JUZT-OYIN\\\\nail-salon-next\\\\nail-salon-booking-system\\\\src\\\\app\\\\admin\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\admin\\page.tsx","default")},2290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=n(2740);function r(){return(0,s.jsxs)("footer",{className:"w-full bg-pink-600 text-center p-4 mt-10 shadow-md",children:[(0,s.jsx)("p",{className:"text-white-700 font-bold",children:"Nail Salon Appointment Booking System"}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:["\xa9 ",new Date().getFullYear()," WDR DevHub"]})]})}n(1135);var a=n(3839);function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:"min-h-screen bg-pink-50 flex flex-col relative z-0",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)("main",{className:"flex-1 p-6",children:e}),(0,s.jsx)(r,{}),(0,s.jsx)("div",{id:"root-portal"})]})})}},440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var s=n(8077);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},9863:()=>{},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[638,960,77],()=>n(310));module.exports=s})();