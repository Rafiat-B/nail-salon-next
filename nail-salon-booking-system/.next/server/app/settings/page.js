(()=>{var e={};e.id=662,e.ids=[662],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},6164:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(260),n=r(8203),a=r(5155),o=r.n(a),l=r(7292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6153)),"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\settings\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2290)),"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\settings\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9198:(e,t,r)=>{Promise.resolve().then(r.bind(r,3839))},1894:(e,t,r)=>{Promise.resolve().then(r.bind(r,1903))},5442:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},4826:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,1284,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},1034:(e,t,r)=>{Promise.resolve().then(r.bind(r,6153))},9490:(e,t,r)=>{Promise.resolve().then(r.bind(r,3537))},1903:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(5512),n=r(8009),a=r(8531),o=r.n(a),l=r(9334);function i(){let[e,t]=(0,n.useState)(null);return(0,l.usePathname)(),(0,s.jsxs)("nav",{className:"bg-white shadow-md p-4 flex justify-between items-center z-50 relative",children:[(0,s.jsx)("div",{className:"text-xl font-bold text-pink-700",children:(0,s.jsx)(o(),{href:"/",children:"Nail Salon Booking"})}),(0,s.jsx)("div",{className:"space-x-4",children:e?(0,s.jsxs)(s.Fragment,{children:["customer"===e.role&&(0,s.jsx)(o(),{href:"/book-appointment",className:"text-pink-600 hover:text-pink-800",children:"Book Appointment"}),(0,s.jsx)(o(),{href:"/dashboard",className:"text-pink-600 hover:text-pink-800",children:"Dashboard"}),(0,s.jsx)(o(),{href:"/logout",className:"text-pink-600 hover:text-pink-800",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{href:"/services",className:"text-pink-600 hover:text-pink-800",children:"Services"}),(0,s.jsx)(o(),{href:"/book-appointment",className:"text-pink-600 hover:text-pink-800",children:"Book"}),(0,s.jsx)(o(),{href:"/login",className:"text-pink-600 hover:text-pink-800",children:"Login"}),(0,s.jsx)(o(),{href:"/registration",className:"text-pink-600 hover:text-pink-800",children:"Register"})]})})]})}function c(){return(0,s.jsx)(i,{})}},3537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(5512),n=r(8009),a=r(8531),o=r.n(a),l=r(9334),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=n.createContext&&n.createContext(i),d=["attr","size","title"];function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var s,n;s=t,n=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t=t=>{var r,{attr:s,size:a,title:o}=e,l=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,d),i=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,l,{className:r,style:u(u({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==c?n.createElement(c.Consumer,null,e=>t(e)):t(i)}function x(e){var t;return(t={tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]},e=>n.createElement(h,p({attr:u({},t.attr)},e),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,u({key:r},t.attr),e(t.child)))}(t.child)))(e)}function b(){let e=(0,l.useRouter)(),[t,r]=(0,n.useState)(null),[a,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),v=e=>{t&&r({...t,[e.target.name]:e.target.value})},g=()=>{c&&r(a),d(!c)},j=async()=>{if(t)try{let e=await Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())(`/api/users/${t._id}`,t);localStorage.setItem("user",JSON.stringify(e.data)),r(e.data),i(e.data),d(!1),alert("Profile updated successfully!")}catch(e){console.error("Update Error:",e),alert("Failed to update profile.")}},y=async()=>{if(!t||!p||!u){f("Both old and new passwords are required.");return}try{await Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())(`/api/users/${t._id}/password`,{oldPassword:p,newPassword:u}),m(""),h(""),f(""),alert("Password updated successfully!")}catch(e){"object"==typeof e&&null!==e&&"response"in e&&"object"==typeof e.response?f(e.response?.data?.error||"Failed to update password."):f("An unexpected error occurred."),console.error("Password Update Error:",e)}},N=async()=>{if(t&&window.confirm("Are you sure you want to delete your account?"))try{await Object(function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}())(`/api/users/${t._id}`),localStorage.removeItem("user"),e.push("/register")}catch(e){console.error("Delete Error:",e)}};return t?(0,s.jsxs)("div",{className:"min-h-screen flex bg-white",children:[(0,s.jsxs)("aside",{className:"w-1/4 bg-pink-600 p-4 h-screen",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Dashboard"}),(0,s.jsxs)("nav",{className:"mt-4",children:[(0,s.jsx)(o(),{href:"/dashboard",className:"block text-white py-2",children:"My Appointments"}),(0,s.jsx)(o(),{href:"/settings",className:"block text-white py-2",children:"Settings"}),(0,s.jsx)(o(),{href:"/logout",className:"block text-white py-2",children:"Logout"})]})]}),(0,s.jsxs)("div",{className:"w-3/4 p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-pink-700",children:"Settings"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Profile Details"}),(0,s.jsx)("button",{onClick:g,className:"text-pink-600 hover:text-pink-800",children:c?"Cancel":(0,s.jsx)(x,{size:20})})]}),c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Name"}),(0,s.jsx)("input",{type:"text",name:"name",value:t.name||"",onChange:v,className:"border p-2 w-full rounded",placeholder:"Name"})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",value:t.email||"",onChange:v,className:"border p-2 w-full rounded",placeholder:"Email"})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Phone"}),(0,s.jsx)("input",{type:"text",name:"phone",value:t.phone||"",onChange:v,className:"border p-2 w-full rounded",placeholder:"Phone"})]}),(0,s.jsxs)("div",{className:"mt-4 flex space-x-4",children:[(0,s.jsx)("button",{onClick:j,className:"bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700",children:"Save Changes"}),(0,s.jsx)("button",{onClick:g,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",children:"Cancel"})]})]}):(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsxs)("p",{className:"text-gray-700",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Name:"})," ",t.name||"Not set"]}),(0,s.jsxs)("p",{className:"text-gray-700",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Email:"})," ",t.email||"Not set"]}),(0,s.jsxs)("p",{className:"text-gray-700",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",t.phone||"Not set"]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Change Password"}),b&&(0,s.jsx)("p",{className:"text-red-600 mt-2",children:b}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Old Password"}),(0,s.jsx)("input",{type:"password",value:p,onChange:e=>m(e.target.value),className:"border p-2 w-full rounded",placeholder:"Enter old password"})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"New Password"}),(0,s.jsx)("input",{type:"password",value:u,onChange:e=>h(e.target.value),className:"border p-2 w-full rounded",placeholder:"Enter new password"})]}),(0,s.jsx)("button",{onClick:y,className:"mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700",disabled:!p||!u,children:"Change Password"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6 border border-red-500",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-600",children:"Danger Zone"}),(0,s.jsx)("button",{onClick:N,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Delete Account"})]})]})]}):(0,s.jsx)("p",{children:"Loading..."})}!function(){var e=Error("Cannot find module 'axios'");throw e.code="MODULE_NOT_FOUND",e}()},3839:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\JUZT-OYIN\\\\nail-salon-next\\\\nail-salon-booking-system\\\\components\\\\NavbarWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\components\\NavbarWrapper.tsx","default")},2290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(2740);function n(){return(0,s.jsxs)("footer",{className:"w-full bg-pink-600 text-center p-4 mt-10 shadow-md",children:[(0,s.jsx)("p",{className:"text-white-700 font-bold",children:"Nail Salon Appointment Booking System"}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:["\xa9 ",new Date().getFullYear()," WDR DevHub"]})]})}r(1135);var a=r(3839);function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:"min-h-screen bg-pink-50 flex flex-col relative z-0",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)("main",{className:"flex-1 p-6",children:e}),(0,s.jsx)(n,{}),(0,s.jsx)("div",{id:"root-portal"})]})})}},6153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\JUZT-OYIN\\\\nail-salon-next\\\\nail-salon-booking-system\\\\src\\\\app\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\settings\\page.tsx","default")},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,960,77],()=>r(6164));module.exports=s})();