(()=>{var e={};e.id=438,e.ids=[438],e.modules={6037:e=>{"use strict";e.exports=require("mongoose")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5897:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>w,routeModule:()=>v,serverHooks:()=>j,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>f});var s={};t.r(s),t.d(s,{GET:()=>m,POST:()=>y});var n=t(2706),i=t(8203),a=t(5994),o=t(9187),c=t(8778),u=t(6037),d=t.n(u);let p=new u.Schema({name:{type:String,required:!0},description:{type:String,required:!0},price:{type:Number,required:!0},duration:{type:Number,required:!0},image:{type:String,default:"/images/default-nail.jpg"}}),l=d().models.Service||d().model("Service",p),g=[{name:"Manicure & Pedicure",description:"Enjoy a professional manicure and pedicure experience.",price:25,duration:60,image:"/images/nail-service.jpg"},{name:"Nail Art",description:"Beautiful and creative nail designs tailored to your taste.",price:30,duration:45,image:"/images/nail-service4.jpg"},{name:"Acrylic Nails",description:"Strong and stylish acrylic nails customized for you.",price:40,duration:90,image:"/images/nail-service3.jpg"},{name:"Gel Nails",description:"Long-lasting gel nails with a glossy finish.",price:35,duration:75,image:"/images/nail-service2.jpg"}];async function m(){try{await (0,c.A)();let e=await l.find({});if(0===e.length)return await l.insertMany(g),o.NextResponse.json(g,{status:201});return o.NextResponse.json(e,{status:200})}catch(e){return o.NextResponse.json({error:"Failed to fetch services"},{status:500})}}async function y(e){try{await (0,c.A)();let{name:r,description:t,price:s,duration:n,image:i}=await e.json();if(!r||!t||!s||!n)return o.NextResponse.json({message:"Missing required fields"},{status:400});let a=await l.create({name:r,description:t,price:s,duration:n,image:i});return o.NextResponse.json({message:"Service added",service:a},{status:201})}catch(e){if(e instanceof Error)return o.NextResponse.json({message:"Error adding service",error:e.message},{status:500});return o.NextResponse.json({message:"Unknown error"},{status:500})}}let v=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/services/route",pathname:"/api/services",filename:"route",bundlePath:"app/api/services/route"},resolvedPagePath:"D:\\JUZT-OYIN\\nail-salon-next\\nail-salon-booking-system\\src\\app\\api\\services\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:f,serverHooks:j}=v;function w(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},8778:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(6037),n=t.n(s);let i=async()=>{if(n().connections[0].readyState){console.log("Already connected to MongoDB");return}try{await n().connect("mongodb+srv://admin:12345@clusterrb.d5mrm.mongodb.net/WDR?retryWrites=true&w=majority"),console.log("MONGODB_URI:","mongodb+srv://admin:12345@clusterrb.d5mrm.mongodb.net/WDR?retryWrites=true&w=majority"),console.log("MongoDB connected successfully")}catch(e){throw console.error("MongoDB connection error:",e),Error("Failed to connect to MongoDB")}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452],()=>t(5897));module.exports=s})();